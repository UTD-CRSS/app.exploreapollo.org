sudo: false
dist: trusty
language:
  - node_js
  - java
node_js:
  - 12
jdk:
  - openjdk8
  - oraclejdk8
rvm:
  - 2.7.1
before_install:
  - npm install -g npm@latest
  - rvm install 2.7.1
  - gem update --system 3.1.2
  - travis_internal_ruby() { echo "2.7.1"; }
  - echo $(travis_internal_ruby)
script:
  - npm run lint
  - npm test
deploy:
  - provider: script
    skip_cleanup: true
    script: scripts/deploy.sh production
    on:
      branch: master
  - provider: script
    skip_cleanup: true
    script: scripts/deploy.sh staging
    on:
      branch: develop
env:
  global:
    - secure: QPZtWjRdQdNmLdCNFqbCklajLxkgMiOu/gL0yqG1zqkDr8cLUAeTqhcZUEppRC57IBLfNBC8L6dTWSHQ795qs0UjdDJCbekVHq4YZlgUYYbDc0tPnF65Ug4dnIKgVFDDk283E/9Eokwvp0kAAckljZffGCBoPRMYS5p2apkMC/2+VayVHlB5AJ2edfzp0yDwKMtfVDB7qX+XUE5dWq9jsr/G4rZfE4vKA+rpDqBdZmG+qjfUhT7Gsw6Xtg6L0K8Nk7HwoOHDJKs8x2JXTyqqyrGekGhoFlYKKPeu+Ykvrph2rGnJ+jylZ+EAky0h2xR+d5KjFJkSO2cAybSyHHRShuxkMZ0pmFC/zFMyR4dpjgfmqZLnvj028KGPyYNsBhI4wr0yCuwvLoH+avxXkEI2wEzoA41DRBkqja/Njo2gNtAOmBE0t0l41d29F06EvC6wPJzfV/cNfEYtEUicw15IRT8fOc7v6p6S54/YbPcC0yLWx1lN2YTUt0vzweOd3ApVnxeLXy86/ewSLXoigDvY9c3eXXlOpBFwxsyQoVDrhUwY0kfW/nZrVNAroM9oyxvGJmqIti69dNHbkEyDUnNw7ybL/unhrrBb2597gilEcBPFENUm60lHWLCBwFriI7eIZqfm5WUH1JVhUeIOFCFQd2xQ5gHFVYDW6aIV7ylDarE=
    - secure: diQy6IFS8ZySm41WraYLv5+QBQ/zBgUEPIcP3glzzkaViP2BXb1mQQOhF9VpEhIjQUd0fc4zouxpS/cNwfhTbxJJHNFdmKHPbgim5IIEAf48zuzp/uaOsDGzj1mLqNR65YM9lgvxy8rlMcvU/bgXO7Ivf48YpkC2QwGRduAC2+fOoyk0UppCMq88nuS8rpOIwRfCrw2G07SYYLlgEe90bkOcS22QMHFNOUbalrT8z5LpZ99/rV5uoANG9qW828D34dtKl4MD8xETsSu0fmoXjMsChbiPgf1GD48ACp0TPOFfnFeyCbeGp6xCFetI2Cby/8OABD6aRbEFSzchWF2wBOQp+7xHJEnpvFRHjAFk+I0v3bebL2eqSyLo4JvCLaoI5XDxOyxMNzGYJrpyj4h7tHwlZ18ASJl1gUmh0wEo+HJyZMlx2urjL2JpMBAGJsWxYnNeAW2UCM4dGcfmzBctdu3A39KOpvuhUlB3eoSAQ17rFCmm4LeVOMPQ2modJjx3U/ry6H64uTBKmPObGRuQ5Y5S7oWTS6sIFChIQYjXmpF3PswtHrm7jw37V1JeepQ3WvQ/BIJxB/jhQhGoBXZ/Nki3sAeHzIza173FK9CLK9zKLa2V/2V7fXJ+gChnChA2TDgD5vkm0JmR99ds8FWZlRdi6U65GSOJ9oa6qidrFLc=
    - secure: O0e+9d0NY+jbrhj1H0o2wAJob1cVIwAg8v4rlOWeiRlBfO0Nup3vOMsbMI4TenXdY0sUn+N8X4mzicgemD5aZoevXr/5TdnTK6nuPkF9WecL2R6dLJ/lHxtilAOcMoIeq/QsddW3sI3qR62WK6EiYTXlr2umy69y33JOxutUtrVVFjR/nFg3NdsIkDl0imDf94W0+7rHoRT0/yMYWEA6d7NBB+uPe2MOtDWiMhDeHSX+aUhmlsxNRCIsoPl7/1O4UZ1G/iNVTZk/vVyNWoFvqQTxFw8ypnYinDoip1xKwjMk9AAuYPm5zfNfAEggKoviOa/9oy9yg3KUx9Z9yEe8ZvIKFSo8nQYWIY0apQGgdIKI8Acic5uPp4frTSnnZJrD25Qk114JombaiOaj/BFXfpQTKU87vs1K33KJ5i8QPw3EDIjdf9X/2uaY4VZTG0c4B6Ogvh0M8iLSJzdRWqNt5zHyP/a7Zqrnvcvs02fehidrmtz/69Kx0XrZ/8zW1/QaBXBWjtybo7QcKoTIBthYdecQHS5vSJGelwvkmtZ+X5vT9R7CUaRAE6u01AV+bbE8EkGqAJgrxU4xA/Moyj2aapf8sQkuLOHNFwV/wMMoSZlDyXBspXTLoS7t5+EpEv6eBd3aNckCpFU0TVwiXePQ/e31NkLzrthw4KG1bPnyFcs=
    - secure: ManKKmlM/c74LfFMwC5wKuFsflQGUdtvT8bMnj/CbtBUHnHG5w+wD3vFUK4a5/ycMV54wVREh30NIRGWxyM2tBombKYb7u3Isycrw70C+k1UMBA4S77ZymjULEpJIX/vm27yljv11zLI1YprUz3NXU+dZ3oYlm5rJCrak8CSsu5NoicTpMR4e9GsZdMrirVRtVt7QL9L/t/nPx7fXRzx9OxK7dFPZbJdLs16K15DdyGemgXUX8Dp+x4Qr66ou9RDbaFy3bZQDzboBoE1+eq8jH22EtqRuH4ev7p8a3RzSjroSbbnT/uSYCSpcLhdQy/ghKUjThQSf7US2xXpRmgTApa213ThWPXzVdYjN6akhTH1dikEs9stt8BjjbGaVP8n+dfdu80KF/VT9bI0kb9jTHThI+RvSTg9WSKXrn2Ntx+7AzT6JBTDbzflxsqmUsP8+90mfrqpAg6kg3dJMKzfJv2APfr5uCtwyp2Fi9axwZAfWeeAANLkdZmBkYKzG5wSSE1SzJgE/KYcNzYCtNoWdeNzSR+FiKDCYd9OcUd/+SNbfeGy8GqZD3RPmSDPTj8ndsUtf0RZIJUyErQDBH4wOuwoh+zkS00iJaOSfGfxsynDwEduQu1C/Pzz5LSGcG4vUoL2AW2/1Gd1dlWJOPoAjo3btjiWmKkkbVvdMDQjWic=
notifications:
  slack:
    secure: jbTPrBk3fg1k529RvW99/K69NqhG0r1d3+L+kCycPgj+YHheyyU3RUoK4ZnLkWAxIHK8FNgy5yq9n/rAKN+v20kXANV/Td5ZYZUrNoIyYE5L6aipjzxgYxvaBC8DglA+0DN7woUitYdSkDkoljVMzZVKsrYN5hR7ycJu5bmTMz4xJSnVZi4UY6oLLpaFjHXXDSVm8bOqJaeQhhr7sf4m/LYdF6D23FK4O4Y/qBycNfMopDMY34RUeiDnPzU0TX2tnpXpo+q0UWPqyuQ66w4R4SS7EaNgqaEHG7xdG/tXylB/9+ZCoGz6tcSxCJMshuN54K/c4KqWAJXkkbfGpq6ZuQ2f7dwqgNEKDt2yPSxjZyt4JZP7fl+oGZ6ecawrbT9ylpbq++dSBmvhBHIbZzFVXAjOibkHV2vVpY4jT1rxL7HMkpbrtWlyLHMOEo4aA7g0gi4Lt2oSOXBlJtwwePF+irmg6mlAHZfbHSsucSVrv2jWwENcBfz49ugdG133ypzq1sznyoJZyxKFL8M0vCa9mgyp2g/vO/+IlMijlLqj+dv9rab+mqHF3N+n/YY/h16K0VcC9qSY+Y/M/35V5siQsVBqKeC98j0sAqAUSWdt6LDRdDOJZCLWUYad5SURd6gkGV4WfG0cDNfRky4/O+TltUXCXlgjbU7z+tPq5go90oQ=
