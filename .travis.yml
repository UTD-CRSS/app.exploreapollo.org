sudo: false
dist: trusty
language:
  - node_js
  - java
node_js:
  - 12
jdk:
  - openjdk8
  - oraclejdk8
rvm:
  - 2.7.1
before_install:
  - npm install -g npm@latest
  - rvm install 2.7.1
  - gem update --system 3.1.2
  - travis_internal_ruby() { echo "2.7.1"; }
  - echo $(travis_internal_ruby)
script:
  - npm run lint
  - npm test
deploy:
  - provider: script
    skip_cleanup: true
    script: scripts/deploy.sh production
    on:
      branch: master
  - provider: script
    skip_cleanup: true
    script: scripts/deploy.sh staging
    on:
      branch: develop
env:
  global:
    - secure: ks/J+2TXFx2yndIwrth/Nf/ScNo3Rk6ggIB93xkgnjoZYFt2mLTxszMnIZbdVbffErLQCqZC6ApJiHkqybDurUWRmEYNfWIyaCWSHOz7YaxDIa2mXyS4yjtYNPgW9nQW6mADqBriP0Y2IK3gPQw7v+z+wr0L/KP0BhvwtqoEvLLOUeCnRDLlSdXnqZyrjH8x5+YvApB6dDTSfd9zCtT5g5/PxWKmnsMJ9ghTkqSeRzN/33AsArgxqt3fVlubl0lsKUbHWYv/f7gzwjo12FcblIZBZZFhXuijL8cFBpI1O+SIKpXId70yA8TVhJSccGvjml31p3ZW3T+olJojTwzXt1pgmX0eLLVJIVnKvOTNyNU083PrVTwV92Sl9RsuNaASGIIaJUoZ4GpXp3r+61tHVSPP8FSZyS0UfvBqcPbAvKuT6V5Ko0aOpSEYpzKfE+Ww+Kl9/zy4t/SM5LamuvAbRcpgFg42QBX0P8V1hZFNCgk1VF+o16qwy1+QMmdDSZE1tBJ3reTqFwfVjWT1+ToWcCI48vqnw4zFTvB+eckIf7Eq1V+NL1n+vVAN9XBuYLZVs7zMrIgGikpeLBGLSrYAD/8C6d6otnljNC+5ZmEWfsq+UoTflVDGRjxAWyjNrMeySZgNWSsRS1G80aI7L7e5iN3CswyK8X4q8HqE/JjeQ4c=
    - secure: vLg046Hb5ixdnOC1hetE5lizCDconSI3ORsVToKEC1WhUaR5vqXaYcfNmI7yRIzYkS0l/I5i8yZnILK43eXyHq6J6XRfPSJnjBOmxsdoG/3J5EhYtEgZjKynzwJY2o9o7y2XMMv76i3NdYH+P/Y5ZYrSrc5CmBZR0qC5ZkeANuml+289KKVPrQUlV5ld6aG1hKs+A/7vge4Z0YbwUIpwKdBViN3h84AVVljEBu4HbabP3AMxLJRv9mcXCSxYBNR8S3CW95k9PoJXgPXbC9J9UARwxr7J2mH4xV/Rg0O38Rchkap8CxoDsz/x3teF75CQP5qOtgStiLm3TB9PrrIt3WDxchv0pxju3ynanaF+bciJHWw1QrQPhen0/S6qtcSTHZv2ggfnjXI44QihnqVSXFE8mvRZb+jv2YjBRohOXdLlddEAfcFmS2Zns2AxPmv2CBc4o9xS8F7b1I8ibKkxkHVJtgZ/3QdXIpwPoQzbKswxcGqWJW8JokiUbksyXqqPDHiJKLROvZ0UQu9RSY4U2qrzIRNGLr7kp2xM7zDU2OFklNixV68NxR3BnB83r3hNtCxkq9mz3i/JyvZwIlFJDiklALZz4Lp86QvNEN1ZIWKl+JyDqlP8pSCasvkhib9RVUVN3m9/uPkQrtN1gpSVPn5lr4ASuiGaALQzUVR3J3c=
    - secure: QOxzqtVcwyn4w00NUJUBEdoXfZcoHu5qGsM8OdfYqijXff82nTRYU8AMVr981Eb5//Cd0p4jfuzTSeOVyjRGz3Zr8qBBT9/fyQlm/4X0rk64KBnNm1jwM19oa59JB7KHXsVWhMjM1YO3l63wemQ4e4hLw8kZAn7NHvyrrMm5s7u1JNKpF6mWi22uWMnGAWMt3N3KVSP/j1PsKnFgxjPraYwnuquX/WDxHJsaPbOhwylJ4KlCJPyntlSXHI1K/4qpNYB6pqmK+W2+orU3IsnAIDB1NY333OJO1I0muOZce3ykRBbF+K+K45cyiqV0+LZz1/FTbcI+q5hK+D5x7Yt6LSct1pQpUSME1V09jBSw5IPxgWZ39iz8Fi68LVgNPFUClvRXJ6yHE7ZqPsZ6IJXHM0fXl67N11+/gZyRw3+DZQ4a7th/6282YabRgHQT3FOyt7IyXT8Jnui8F8KOsfIvOdbhlNcSBnEXtVhjX1FMh0q+IRBeroo4ZdxFFpGIEgReKvyjNvyNha8GuT08BxCs/e5V2v4Z2I2jwHktjM2hWEHmF+x+3O5c7PplXsx6+PktZLOUyifEuAV5GrA0EMfpX7wRAadh5QrkqPtHEf2C17xRpCKSGD/53L2n63+V7ensYClmC6Xjv5DMxRdBlqDGjeR2mGiipj7nLpmB9YPBqUE=
    - secure: BxzEKVUOOSRPJK3zY8wEmXumd2sBWj5WQZoLsXWb/4aFUmFHWjB/sxRTdgySUgZLwRxQt9nya4vH4wimwWbbOtof17C++xZvaMXZ94Xdks6kZ4ULLzMyFgWHsrwfqGW+PrL4IcQCtJSHAvj9w3vY40jucsNfqjkkXDDZuItNt0c8lVZy8V4jm/PQNDY87LOqyC7bVuuUNlNt2J18y87DBB6BhO7cgjYQWIzx5QWa/RDQNL3TuXM4bWh3fR6n/MQ+cKXOno61PYfNsL7zSVE4aJfPN6/V8i3trIadBgFXV4eNn5x/uU8kV50ngo/8VGXGotnSjzjHAJyU5z/0FeoLcNBAEZ+SOYJ0exEHWNubPk5jq2paw9wQXUYjbXMMhr5wks8ei+Vztq++EZ9AYzKROHR3pB4kbJfPzKxsx1z3a93/zwUL5+KwdDa5Iddvp/BwmbzC78p2MpUCF5noY7yHdWHeaC5Lzod5ONSB0/jnVyLQ3479Q5g2BdU1eHFWVpiy/cNdg5OnGCmLUkZzo7m0mKPdwFV0VJY25q6ZjvuXwv6RuNbMB8NUpxWxH06ec+rGRT0+h84FvqpAlAuA2ZGcTEtGbFhWqoH6FF6V2iZI/FgIXEedQtoxls2k+CD4hEmIqVdrULLmwdlkpjNJruYpORvtNfzDy5pztKDdZjrjqhU=
notifications:
  slack:
    secure: jbTPrBk3fg1k529RvW99/K69NqhG0r1d3+L+kCycPgj+YHheyyU3RUoK4ZnLkWAxIHK8FNgy5yq9n/rAKN+v20kXANV/Td5ZYZUrNoIyYE5L6aipjzxgYxvaBC8DglA+0DN7woUitYdSkDkoljVMzZVKsrYN5hR7ycJu5bmTMz4xJSnVZi4UY6oLLpaFjHXXDSVm8bOqJaeQhhr7sf4m/LYdF6D23FK4O4Y/qBycNfMopDMY34RUeiDnPzU0TX2tnpXpo+q0UWPqyuQ66w4R4SS7EaNgqaEHG7xdG/tXylB/9+ZCoGz6tcSxCJMshuN54K/c4KqWAJXkkbfGpq6ZuQ2f7dwqgNEKDt2yPSxjZyt4JZP7fl+oGZ6ecawrbT9ylpbq++dSBmvhBHIbZzFVXAjOibkHV2vVpY4jT1rxL7HMkpbrtWlyLHMOEo4aA7g0gi4Lt2oSOXBlJtwwePF+irmg6mlAHZfbHSsucSVrv2jWwENcBfz49ugdG133ypzq1sznyoJZyxKFL8M0vCa9mgyp2g/vO/+IlMijlLqj+dv9rab+mqHF3N+n/YY/h16K0VcC9qSY+Y/M/35V5siQsVBqKeC98j0sAqAUSWdt6LDRdDOJZCLWUYad5SURd6gkGV4WfG0cDNfRky4/O+TltUXCXlgjbU7z+tPq5go90oQ=
